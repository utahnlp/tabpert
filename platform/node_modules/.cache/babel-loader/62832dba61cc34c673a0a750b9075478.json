{"ast":null,"code":"var _jsxFileName = \"/home/nupur/infotabs-extension/infotabs-code/interface/frontend/src/components/Tables.js\";\nimport React, { Component } from \"react\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\n\nconst axios = require(\"axios\");\n\nclass Tables extends Component {\n  constructor(props) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.submit = this.submit.bind(this);\n    this.state = {\n      title: \"\",\n      original: \"\",\n      A: \"\",\n      B: \"\",\n      C: \"\",\n      view: \"drag\"\n    };\n  }\n\n  componentDidMount() {\n    this.getTables();\n  }\n\n  getTables() {\n    fetch(`/api/table?id=${this.props.tableid}`).then(res => res.json()).then(data => {\n      this.setState({\n        title: data.title,\n        original: data.original,\n        A: data.A,\n        B: data.B,\n        C: data.C\n      });\n    });\n  }\n\n  submit() {\n    console.log(this.state);\n    var title = this.state.title;\n    var A = this.state.A;\n    var B = this.state.B;\n    var C = this.state.C;\n    A[\"title\"] = title;\n    B[\"title\"] = title;\n    C[\"title\"] = title;\n    var id = this.props.tableid;\n    axios.post(`/api/save`, {\n      title: title,\n      A: A,\n      B: B,\n      C: C,\n      id: id\n    }).then(function (response) {\n      console.log(response);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  tableRows(pairs, type) {\n    return Object.keys(pairs).map(key => {\n      return /*#__PURE__*/React.createElement(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }\n      }, key)), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Droppable, {\n        droppableId: type + \"_\" + key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 15\n        }\n      }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        ref: provided.innerRef\n      }, provided.droppableProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 19\n        }\n      }), pairs[key].map((value, id) => {\n        return /*#__PURE__*/React.createElement(Draggable, {\n          draggableId: type + \"_\" + key + \"_\" + id,\n          index: id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }\n        }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n          ref: provided.innerRef\n        }, provided.draggableProps, provided.dragHandleProps, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 29\n          }\n        }), /*#__PURE__*/React.createElement(Row, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 31\n          }\n        }, value)));\n      }))))));\n    });\n  }\n\n  reorder(list, startIndex, endIndex) {\n    console.log(list);\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  }\n\n  move(source, destination, droppableSource, droppableDestination) {\n    const sourceClone = Array.from(source);\n    const destClone = Array.from(destination);\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\n    destClone.splice(droppableDestination.index, 0, removed);\n    const result = {};\n    result[droppableSource.droppableId] = sourceClone;\n    result[droppableDestination.droppableId] = destClone;\n    return result;\n  }\n\n  onDragEnd(result) {\n    console.log(result);\n    const {\n      source,\n      destination\n    } = result; // dropped outside the list\n\n    if (!destination) {\n      return;\n    }\n\n    const sInd = source.droppableId;\n    const dInd = destination.droppableId;\n    console.log(this.state[sInd.split(\"_\")[0]]);\n    console.log(this.state[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]]);\n\n    if (sInd === dInd) {\n      const items = this.reorder(this.state[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]], source.index, destination.index);\n      const newState = JSON.parse(JSON.stringify(this.state));\n      newState[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]] = items;\n      this.setState(newState);\n    } else {\n      const result = this.move(this.state[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]], this.state[dInd.split(\"_\")[0]][dInd.split(\"_\")[1]], source, destination);\n      const newState = JSON.parse(JSON.stringify(this.state));\n      newState[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]] = result[sInd];\n      newState[dInd.split(\"_\")[0]][dInd.split(\"_\")[1]] = result[dInd];\n      this.setState(newState);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      className: \"justify-content-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        console.log(\"fired\");\n        this.setState({\n          view: \"drag\"\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }\n    }, \"Drag and Drop\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => {\n        console.log(\"fired\");\n        this.setState({\n          view: \"focusA\"\n        });\n        console.log(this.state.view);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, \"Focus A\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        view: \"focusB\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, \"Focus B\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => this.setState({\n        view: \"focusC\"\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"Focus C\"), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 13\n      }\n    }, this.state.title)), /*#__PURE__*/React.createElement(Row, {\n      show: this.state.view === \"drag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.original, \"original\")), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.A, \"A\")), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.B, \"B\")), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.C, \"C\"))), /*#__PURE__*/React.createElement(Row, {\n      show: this.state.view === \"focusA\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.original, \"original\")), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.A, \"A\"))), /*#__PURE__*/React.createElement(Row, {\n      show: this.state.view === \"focusB\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.original, \"original\")), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.B, \"B\"))), /*#__PURE__*/React.createElement(Row, {\n      show: this.state.view === \"focusC\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.original, \"original\")), /*#__PURE__*/React.createElement(Col, {\n      md: 6,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, this.tableRows(this.state.C, \"C\")))), /*#__PURE__*/React.createElement(Button, {\n      onClick: this.submit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    }, \"Submit\"));\n  }\n\n}\n\nexport default Tables;","map":{"version":3,"sources":["/home/nupur/infotabs-extension/infotabs-code/interface/frontend/src/components/Tables.js"],"names":["React","Component","DragDropContext","Droppable","Draggable","Container","Row","Col","Button","axios","require","Tables","constructor","props","onDragEnd","bind","submit","state","title","original","A","B","C","view","componentDidMount","getTables","fetch","tableid","then","res","json","data","setState","console","log","id","post","response","catch","error","tableRows","pairs","type","Object","keys","map","key","provided","snapshot","innerRef","droppableProps","value","draggableProps","dragHandleProps","reorder","list","startIndex","endIndex","result","Array","from","removed","splice","move","source","destination","droppableSource","droppableDestination","sourceClone","destClone","index","droppableId","sInd","dInd","split","items","newState","JSON","parse","stringify","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\n\nconst axios = require(\"axios\");\n\nclass Tables extends Component {\n  constructor(props) {\n    super(props);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.submit = this.submit.bind(this);\n    this.state = { title: \"\", original: \"\", A: \"\", B: \"\", C: \"\", view: \"drag\" };\n  }\n\n  componentDidMount() {\n    this.getTables();\n  }\n\n  getTables() {\n    fetch(`/api/table?id=${this.props.tableid}`)\n      .then((res) => res.json())\n      .then((data) => {\n        this.setState({\n          title: data.title,\n          original: data.original,\n          A: data.A,\n          B: data.B,\n          C: data.C,\n        });\n      });\n  }\n\n  submit() {\n    console.log(this.state);\n    var title = this.state.title;\n    var A = this.state.A;\n    var B = this.state.B;\n    var C = this.state.C;\n    A[\"title\"] = title;\n    B[\"title\"] = title;\n    C[\"title\"] = title;\n    var id = this.props.tableid;\n    axios\n      .post(`/api/save`, {\n        title: title,\n        A: A,\n        B: B,\n        C: C,\n        id: id,\n      })\n      .then(function (response) {\n        console.log(response);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  }\n\n  tableRows(pairs, type) {\n    return Object.keys(pairs).map((key) => {\n      return (\n        <Container>\n          <Row>\n            <Col>\n              <strong>{key}</strong>\n            </Col>\n            <Col>\n              <Droppable droppableId={type + \"_\" + key}>\n                {(provided, snapshot) => (\n                  <div ref={provided.innerRef} {...provided.droppableProps}>\n                    {pairs[key].map((value, id) => {\n                      return (\n                        <Draggable\n                          draggableId={type + \"_\" + key + \"_\" + id}\n                          index={id}\n                        >\n                          {(provided, snapshot) => (\n                            <div\n                              ref={provided.innerRef}\n                              {...provided.draggableProps}\n                              {...provided.dragHandleProps}\n                            >\n                              <Row>{value}</Row>\n                            </div>\n                          )}\n                        </Draggable>\n                      );\n                    })}\n                  </div>\n                )}\n              </Droppable>\n            </Col>\n          </Row>\n        </Container>\n      );\n    });\n  }\n\n  reorder(list, startIndex, endIndex) {\n    console.log(list);\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n\n    return result;\n  }\n\n  move(source, destination, droppableSource, droppableDestination) {\n    const sourceClone = Array.from(source);\n    const destClone = Array.from(destination);\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\n\n    destClone.splice(droppableDestination.index, 0, removed);\n\n    const result = {};\n    result[droppableSource.droppableId] = sourceClone;\n    result[droppableDestination.droppableId] = destClone;\n\n    return result;\n  }\n\n  onDragEnd(result) {\n    console.log(result);\n    const { source, destination } = result;\n\n    // dropped outside the list\n    if (!destination) {\n      return;\n    }\n    const sInd = source.droppableId;\n    const dInd = destination.droppableId;\n\n    console.log(this.state[sInd.split(\"_\")[0]]);\n    console.log(this.state[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]]);\n    if (sInd === dInd) {\n      const items = this.reorder(\n        this.state[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]],\n        source.index,\n        destination.index\n      );\n      const newState = JSON.parse(JSON.stringify(this.state));\n      newState[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]] = items;\n      this.setState(newState);\n    } else {\n      const result = this.move(\n        this.state[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]],\n        this.state[dInd.split(\"_\")[0]][dInd.split(\"_\")[1]],\n        source,\n        destination\n      );\n      const newState = JSON.parse(JSON.stringify(this.state));\n      newState[sInd.split(\"_\")[0]][sInd.split(\"_\")[1]] = result[sInd];\n      newState[dInd.split(\"_\")[0]][dInd.split(\"_\")[1]] = result[dInd];\n\n      this.setState(newState);\n    }\n  }\n\n  render() {\n    return (\n      <Container>\n        <DragDropContext onDragEnd={this.onDragEnd}>\n          <Row className=\"justify-content-center\">\n            <Button\n              onClick={() => {\n                console.log(\"fired\");\n                this.setState({ view: \"drag\" });\n              }}\n            >\n              Drag and Drop\n            </Button>\n            <Button\n              onClick={() => {\n                console.log(\"fired\");\n                this.setState({ view: \"focusA\" });\n                console.log(this.state.view);\n              }}\n            >\n              Focus A\n            </Button>\n            <Button onClick={() => this.setState({ view: \"focusB\" })}>\n              Focus B\n            </Button>\n            <Button onClick={() => this.setState({ view: \"focusC\" })}>\n              Focus C\n            </Button>\n            <h1>{this.state.title}</h1>\n          </Row>\n          <Row show={this.state.view === \"drag\"}>\n            <Col md={3}>{this.tableRows(this.state.original, \"original\")}</Col>\n            <Col md={3}>{this.tableRows(this.state.A, \"A\")}</Col>\n            <Col md={3}>{this.tableRows(this.state.B, \"B\")}</Col>\n            <Col md={3}>{this.tableRows(this.state.C, \"C\")}</Col>\n          </Row>\n          <Row show={this.state.view === \"focusA\"}>\n            <Col md={6}>{this.tableRows(this.state.original, \"original\")}</Col>\n            <Col md={6}>{this.tableRows(this.state.A, \"A\")}</Col>\n          </Row>\n          <Row show={this.state.view === \"focusB\"}>\n            <Col md={6}>{this.tableRows(this.state.original, \"original\")}</Col>\n            <Col md={6}>{this.tableRows(this.state.B, \"B\")}</Col>\n          </Row>\n          <Row show={this.state.view === \"focusC\"}>\n            <Col md={6}>{this.tableRows(this.state.original, \"original\")}</Col>\n            <Col md={6}>{this.tableRows(this.state.C, \"C\")}</Col>\n          </Row>\n        </DragDropContext>\n        <Button onClick={this.submit}>Submit</Button>\n      </Container>\n    );\n  }\n}\n\nexport default Tables;\n"]},"metadata":{},"sourceType":"module"}